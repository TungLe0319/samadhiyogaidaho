import"./events.ef5b0c2a.js";import{_ as h,v as y,S as b,x as c,q as g,j as E,A as r,l as w,c as s,a as o,b as l,k as d,F as C,C as k,o as n,p as x,e as S,r as f}from"./index.18a47402.js";import{e as v,E as D,a as I}from"./EventForm.73252400.js";const F={setup(){y(()=>{a()}),b(()=>r.activeEvent=null);async function a(){try{await v.getEvents()}catch(e){c.error(e)}}const _=g(!1);return{events:E(()=>r.events),form:_,activeEvent:E(()=>r.activeEvent),async editEvent(e){try{e.startDate=new Date(e.startDate).toISOString().slice(0,-1),e.endDate=new Date(e.endDate).toISOString().slice(0,-1),r.activeEvent=e,w.log(e)}catch(t){c.error(t)}},async createEvent(){try{await v.createEvent()}catch(e){c.error(e,"[create Event]")}},async deleteEvent(e){try{if(!await c.confirm())return;await v.deleteEvent(e)}catch(t){c.error(t,"[create Event]")}}}},components:{EventForm:D,EventCard:I}},B=a=>(x("data-v-f7149a0a"),a=a(),S(),a),N={class:"container-fluid my-3"},P={key:0,class:"row my-5"},V={class:"col-md-12"},j=B(()=>o("button",{class:"btn btn-outline-success font-2 fs-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"}," Create Event ",-1)),A={class:"collapse",id:"collapseExample"},L={key:1,class:"row"},O={class:"col-12"},T={class:"position-relative"},q={class:"d-flex justify-content-center gap-2 position-absolute bottom-100"},M=["onClick"],R=["onClick"],z={key:2,class:"container-fluid"},G={class:"row"},H={class:"col-12"};function J(a,_,e,t,K,Q){const p=f("EventForm"),u=f("EventCard");return n(),s("div",N,[t.activeEvent?d("",!0):(n(),s("div",P,[o("div",V,[j,o("div",A,[l(p)])])])),t.activeEvent?d("",!0):(n(),s("div",L,[(n(!0),s(C,null,k(t.events,i=>(n(),s("div",O,[o("div",T,[l(u,{event:i},null,8,["event"]),o("div",q,[o("button",{class:"btn btn-outline-warning font-2 fs-3",onClick:m=>t.editEvent(i)}," edit event ",8,M),o("button",{class:"btn btn-outline-danger font-2 fs-3",onClick:m=>t.deleteEvent(i)}," delete event ",8,R)])])]))),256))])),t.activeEvent?(n(),s("div",z,[o("div",G,[o("div",H,[l(p)])])])):d("",!0)])}const Y=h(F,[["render",J],["__scopeId","data-v-f7149a0a"]]);export{Y as default};
